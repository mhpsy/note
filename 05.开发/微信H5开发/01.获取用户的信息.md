## 详细步骤和说明

### 网页授权的理论步骤

网页授权流程分为四步：

1.  引导用户进入授权页面同意授权，获取code
2.  通过code换取网页授权access_token（与基础支持中的access_token不同）
3.  如果需要，开发者可以刷新网页授权access_token，避免过期
4.  通过网页授权access_token和openid获取用户基本信息（支持UnionID机制）

### 我做的步骤

#### 1.设置好回调域名

[[设置网页授权回调域名#设置网页授权回调域名]]

#### 2.拼凑出来调用的一个url

“引导”用户打开如下网页
`https://open.weixin.qq.com/connect/oauth2/authorize?appid=APPID&redirect_uri=REDIRECT_URI&response_type=code&scope=SCOPE&state=STATE#wechat_redirect`

可以看到几个参数：

- **appid**: 公众号的唯一标识
- **redirect_uri**: 授权后重定向的回调链接地址， 请使用 urlEncode 对链接进行处理
- **response_type**: 返回类型，请填写code
- **scope**: 可选 snsapi_base 和 snsapi_userinfo [[两种scope的区别]]
- **state**: 重定向后会带上state参数，开发者可以填写a-zA-Z0-9的参数值，最多128字节
- `#wechat_redirec`:无论直接打开还是做页面302重定向时候，必须带此参数







